//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
(function(){var O=require("moment");O=O.__esModule?O.default:O;function v(e,t,r){for(var a,n=[],o=0;o<x.length;o++){var s=x[o](e,t);!s&&!1!==s||(a=s)}if(!1===a)return!1;if("string"==typeof a?t=a:a&&(n=a),!O.isMoment(n)&&!n.length&&t.charAt(0).match(/[0-9(]/)){var i=!1,d=t.split("|");1<d.length&&(i=!0),2<d.length&&(d=[d[0],d[1]]);for(o=0;o<d.length;o++){var h=O(e),l=d[o].split("/");if(1===l.length||2===l.length&&"("!==l[1].charAt(0)&&4===l[1].length){var y=d[o];o=-1,d=[];for(var f=1;f<13;f++)d.push(f+"/"+y)}else if(2<l.length&&h.year(parseInt(l[2])),h.month(parseInt(l[0])-1),"("===l[1].charAt(0)){var u=l[1].slice(1,-1).split(","),c=parseInt(u[0]),v=parseInt(u[1]),g=O(h).startOf("month"),k=O(h).endOf("month").diff(g,"days")+1,p=[];if(u[1]&&"["===u[1].charAt(0)){var w=!0;(v=parseInt(u[1].slice(1,-1)))<0&&(w=!1,v=parseInt(u[1].slice(2,-1))),g=O(h).date(v);for(var m=0;m<7;m++){if(g.day()===c){n.push(O(g));break}w?g.add(1,"day"):g.subtract(1,"day")}continue}for(var _=0;_<k;_++)g.day()===c&&p.push(O(g)),g.add(1,"day");if(!v){n=n.concat(p);continue}h=v<0?p[p.length+v]:p[v-1],n.push(h)}else n.push(h.date(l[1]))}if(i&&1<n.length){var b=n[1].diff(n[0],"days");if(1<b){var M=O(n[0]);n=[n[0]];for(o=0;o<b;o++)M.add(1,"day"),n.push(O(M))}}}for(n=j(n),o=0;o<n.length;o++)O.isMoment(n[o])?(r&&(0===n[o].day()&&(n[o]=n[o].add(1,"day")),6===n[o].day()&&(n[o]=n[o].subtract(1,"day"))),n[o]=n[o].startOf("day")):delete n[o];return!!n.length&&(1===n.length?n[0]:n)}function g(e,t){var r=[];t=j(t);for(var a=0;a<t.length;a++){var n=e.match(new RegExp(t[a],"gi"));n&&(r=r.concat(n))}return r}function h(e,t,r,a,n){var o,s={},i=[],d={};if(p.h=n||O.holidays.active,p.h.hasOwnProperty(t))i.push(t);else if(o=w(t,p.h))i.push(o);else{for(var h in p.h)if(p.h.hasOwnProperty(h)){if(s[h]=g(t,h.split(/[\s,.-]+/).filter(function(e){return 2<e.length})).length,p.h[h].keywords_n)if(g(t,p.h[h].keywords_n).length){s[h]=0;continue}if(p.h[h].keywords_y){var l=g(t,p.h[h].keywords_y);if(!l||l.length!==p.h[h].keywords_y.length){s[h]=0;continue}s[h]+=l.length}if(p.h[h].keywords){var y=g(t,p.h[h].keywords);if(!y)continue;s[h]+=y.length}}for(var f in s)s[f]&&s.hasOwnProperty(f)&&(i.length&&s[f]!==s[i[0]]?s[f]>s[i[0]]&&(i=[f]):i.push(f))}if(!i.length)return!1;if(!1===a)return i;for(var u=0;u<i.length;u++){var c=v(e,p.h[i[u]].date,r);c&&(d[i[u]]=c)}return!!Object.keys(d).length&&d}function l(e,t,r,a,n){var o=[];a&&(o={}),t=j(t),n=n||O.holidays.active;for(var s=0;s<t.length;s++){var i=h(e,t[s],r,a,n);i&&(o=a?f(o,i):o.concat(i))}return o}function k(e,t){var r=O.holidays.active,a={};for(var n in r)r.hasOwnProperty(n)&&(p.td=v(e,r[n].date,t))&&(a[n]=p.td);return a}function y(e){return p.regions=e.split("/"),e=p.regions[0].toLowerCase().replace(" ","_"),p.regions.shift(),!!O.holidays[e]&&(p.regions.length?function(e,t){var r=O.holidays[e],a={};if(r)for(var n=0;n<t.length;n++){var o=t[n].toLowerCase(),s=O.holidays[e+"/"+o];for(var i in s={},r)if(r.hasOwnProperty(i)){var d=r[i].regions||[],h=r[i].regions_n||[];d.length&&d.join().toLowerCase().split(),h.length&&h.join().toLowerCase().split(),(!d.length&&!h.length||d.length&&~d.indexOf(o)||h.length&&!~h.indexOf(o))&&(s[i]=r[i])}s&&(a=f(a,s))}return!!Object.keys(a).length&&a}(e,p.regions):O.holidays[e])}function r(e,t,r,a){t=t||1;for(var n=k(e,a),o=O(e),s=e.year(),i=[],d=0;d<t;d++)for(var h=O(o);;){var l=!1;if(r?h.add(1,"day"):h.subtract(1,"day"),h.year()!==s&&(n=k(h,a),s=h.year()),!Object.keys(n).length){l=!0;break}for(var y in n)if(n.hasOwnProperty(y)){for(var f=!1,u=j(n[y]),c=0;c<u.length;c++)if(h.isSame(u[c],"day")){i.push(u[c]),o=O(h),f=!0;break}if(f){l=!0;break}}if(l)break}return!!i.length&&(1===i.length?i[0]:i)}var p=this,x=[],j=function(e){return e&&e.constructor!==Array?[e]:e},w=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},f=function(e,t){return Object.assign({},e,t)};O.fn.holiday=function(e,t){O.holidays.active;var r={},a=!1;if(e){var n;e.constructor!==Array&&(a=!0,e=[e]);for(var o=0;o<e.length;o++)(n=h(this,e[o],t))&&(r=Object.assign({},r,n))}else r=k(this,t);var s=Object.keys(r);return!!s.length&&(1===s.length&&a?r[s[0]]:r)},O.fn.holidays=function(e,t){return this.holiday(e,t)},O.fn.isHoliday=function(e,t){var r,a,n=[];if(a=e?(e=j(e),r=this.holiday(e,t),!1):(r=k(this,t),!0),!r)return!1;for(var o in r)if(r.hasOwnProperty(o))for(var s=j(r[o]),i=0;i<s.length;i++)if(this.isSame(s[i],"day")){if(!a)return!0;n.push(o)}return!!n.length&&(1===n.length?n[0]:n)},O.fn.previousHoliday=function(e,t){return r(this,e,!1,t)},O.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},O.fn.nextHoliday=function(e,t){return r(this,e,!0,t)},O.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},O.fn.holidaysBetween=function(e,t){e=e||new Date,e=O(e).subtract(1,"day");for(var r=k(this,t),a=O(this),n=a.year(),o=[],s=0;s<e.diff(this,"days")&&(a.add(1,"day"),a.year()!==n&&(r=k(a,t),n=a.year()),Object.keys(r).length);s++)for(var i in r){for(var d=!1,h=j(r[i]),l=0;l<h.length;l++)if(a.isSame(h[l],"day")){o.push(h[l]),d=!0;break}if(d)break}return!!o.length&&o},O.holidays={active:{},active_last:{}},O.modifyHolidays={set:function(e,t){var r={};if(e.constructor===Array){for(var a=[],n=0;n<e.length;n++){var o=h(this,e[n],null,!1);o&&(a=a.concat(o))}if(a.length)for(var s in r=f(O.holidays.active))r.hasOwnProperty(s)&&(~a.indexOf(s)||delete r[s])}else if("string"==typeof e){var i=y(e);if(i)if(t){var d=l(this,t,!1,!1,i);for(n=0;n<d.length;n++)r[d[n]]=f(i[d[n]])}else r=f(i)}else r=e;return!Object.keys(r).length&&e!==r||Object.is(O.holidays.active,r)||(O.holidays.active_last=f(O.holidays.active),O.holidays.active=r),this},add:function(e,t){if("string"==typeof e){var r=y(e);if(e={},r)if(t)for(var a=l(this,t,!1,!1,r),n=0;n<a.length;n++)e[a[n]]=f(r[a[n]]);else e=r}return Object.keys(e).length&&(O.holidays.active_last=f(O.holidays.active),O.holidays.active=f(O.holidays.active,e)),this},remove:function(e){e=j(e);var t=l(this,e,!1,!1),r=f(O.holidays.active);if(t)for(var a=0;a<t.length;a++)delete r[t[a]];return Object.is(O.holidays.active,r)||(O.holidays.active_last=f(O.holidays.active),O.holidays.active=r),this},undo:function(){var e=f(O.holidays.active);return O.holidays.active=f(O.holidays.active_last),O.holidays.active_last=e,this},load:function(e){e=j(e);for(var t=0;t<e.length;t++)y(e[t]);return this},extendParser:function(e){return x.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=O)}).call(this),
//! moment-holiday.js locale configuration
//! locale : United States
//! author : Kodie Grantham : https://github.com/kodie
function(){var e=require("moment");(e=e.__esModule?e.default:e).holidays.united_states={"New Year's Day":{date:"1/1",keywords_n:["eve"]},"Martin Luther King Jr. Day":{date:"1/(1,3)",keywords:["mlk"]},"Valentine's Day":{date:"2/14"},"Washington's Birthday":{date:"2/(1,3)",keywords:["george","president","day"]},"Saint Patrick's Day":{date:"3/17",keywords:["st[\\s\\.]","paddy","patty"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Memorial Day":{date:"5/(1,-1)"},"Mother's Day":{date:"5/(0,2)",keywords:["mom"]},"Father's Day":{date:"6/(0,3)",keywords:["dad"]},"Independence Day":{date:"7/4",keywords:["4th","fourth","july"]},"Labor Day":{date:"9/(1,1)",keywords:["labour"]},"Columbus Day":{date:"10/(1,2)",keywords:["christopher"]},Halloween:{date:"10/31"},"Veteran's Day":{date:"11/11",keywords:["vet"]},"Thanksgiving Day":{date:"11/(4,4)",keywords:["thanks","turkey"],keywords_n:["after"]},"Day after Thanksgiving":{date:"11/(5,4)",keywords:["thanks","turkey"],keywords_y:["after"]},"Christmas Eve":{date:"12/24",keywords:["christ","x-?mas"],keywords_y:["eve"]},"Christmas Day":{date:"12/25",keywords:["christ","x-?mas"],keywords_n:["eve"]},"New Year's Eve":{date:"12/31",keywords_y:["year","eve"]}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! moment-holiday.js locale configuration
//! locale : Easter Related Holidays
//! author : Kodie Grantham : https://github.com/kodie
function(){var h=require("moment");(h=h.__esModule?h.default:h).holidays.easter={"Ash Wednesday":{date:"easter-46"},Lent:{date:"easter-46|easter-3"},"Maundy Thursday":{date:"easter-3",keywords_y:["maundy","thursday"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Holy Saturday":{date:"easter-1",keywords_y:["holy","saturday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1",keywords_y:["easter","monday"]},"Ascension Day":{date:"easter+39"},"Pentecost Sunday":{date:"easter+49",keywords_y:["pentecost"],keywords:["sunday"]},"Whit Monday":{date:"easter+50",keywords_y:["whit"],keywords:["monday"]},"Corpus Christi":{date:"easter+60",keywords:["feast"]}};function s(e){var t=Math.floor(e/100),r=e-19*Math.floor(e/19),a=Math.floor((t-17)/25),n=t-Math.floor(t/4)-Math.floor((t-a)/3)+19*r+15;n-=30*Math.floor(n/30),n-=Math.floor(n/28)*(1-Math.floor(n/28)*Math.floor(29/(n+1))*Math.floor((21-r)/11));var o=e+Math.floor(e/4)+n+2-t+Math.floor(t/4),s=n-(o-=7*Math.floor(o/7)),i=3+Math.floor((40+s)/44),d=28+s-31*Math.floor(i/4);return h([e,i-1,d])}h.modifyHolidays.extendParser(function(e,t){if(~t.indexOf("easter")){for(var r=t.split("|"),a=[],n=0;n<r.length;n++)if("easter"===r[n].substring(0,6)){var o=s(e.year());if("-"===r[n].charAt(6)&&o.subtract(r[n].substring(7),"days"),"+"===r[n].charAt(6)&&o.add(r[n].substring(7),"days"),1===r.length)return o;a.push(o.format("M/D"))}else a.push(r[n]);if(a.length)return a.join("|")}}),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=h)}.call(this),
//! Set default locales
function(){var e=require("moment");(e=e.__esModule?e.default:e).modifyHolidays.add("United States")}.call(this);
//# sourceMappingURL=moment-holiday-us.min.js.map
